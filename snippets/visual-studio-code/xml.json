{
	// Place your snippets for xml here. Each snippet is defined under a snippet name and has a prefix, body and 
	// description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are:
	// $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders. Placeholders with the 
	// same ids are connected.
	// Example:
	// "Print to console": {
	// 	"prefix": "log",
	// 	"body": [
	// 		"console.log('$1');",
	// 		"$2"
	// 	],
	// 	"description": "Log output to console"
	// }
	"B2C IdentityServer IDP": {
		"prefix": ["b2c", "b2c-idp"],
		"body": [
			"<ClaimsProvider>",
			"<Domain>identityserver</Domain>",
			"<DisplayName>${1:Identity Server 4}</DisplayName>",
			"<TechnicalProfiles>",
			  "<TechnicalProfile Id=\"${2:Identity-Server4}\">",
				"<DisplayName>${1:Identity Server 4}</DisplayName>",
				"<Description>${3:Login with your Identity Server account}</Description>",
				"<Protocol Name=\"OpenIdConnect\" />",
				"<Metadata>",
				  "<Item Key=\"METADATA\">${4:https://Identity Server FQDN/.well-known/openid-configuration}</Item>",
				  "<!-- Update the Client ID below to the Application ID -->",
				  "<Item Key=\"client_id\">${5:ClientID registered in Identity Server for AAD B2C}</Item>",
				  "<Item Key=\"response_types\">code</Item>",
				  "<Item Key=\"scope\">openid</Item>",
				  "<Item Key=\"response_mode\">form_post</Item>",
				  "<Item Key=\"HttpBinding\">POST</Item>",
				  "<Item Key=\"UsePolicyInRedirectUri\">false</Item>",
				  "<Item Key=\"DiscoverMetadataByTokenIssuer\">true</Item>",
				  "<!-- The key below allows you to specify each IdentityServer that can be used to sign in. Update the URLs below for each server. -->",
				  "<Item Key=\"ValidTokenIssuerPrefixes\">${6:https://Identity Server FQDN}</Item>",
				"</Metadata>",
				"<CryptographicKeys>",
				  "<Key Id=\"client_secret\" StorageReferenceId=\"${7:B2C_1A_IdentityServer4Secret}\" />",
				"</CryptographicKeys>",
				"<OutputClaims>",
				  "<OutputClaim ClaimTypeReferenceId=\"issuerUserId\" PartnerClaimType=\"sub\" />",
				  "<OutputClaim ClaimTypeReferenceId=\"givenName\" PartnerClaimType=\"given_name\" />",
				  "<OutputClaim ClaimTypeReferenceId=\"surName\" PartnerClaimType=\"family_name\" />",
				  "<OutputClaim ClaimTypeReferenceId=\"email\" PartnerClaimType=\"email\" />",
				  "<OutputClaim ClaimTypeReferenceId=\"displayName\" PartnerClaimType=\"name\" />",
				  "<OutputClaim ClaimTypeReferenceId=\"authenticationSource\" DefaultValue=\"socialIdpAuthentication\" AlwaysUseDefaultValue=\"true\" />",
				  "<OutputClaim ClaimTypeReferenceId=\"identityProvider\" PartnerClaimType=\"iss\" />",
				"</OutputClaims>",
				"<OutputClaimsTransformations>",
				  "<OutputClaimsTransformation ReferenceId=\"CreateRandomUPNUserName\" />",
				  "<OutputClaimsTransformation ReferenceId=\"CreateUserPrincipalName\" />",
				  "<OutputClaimsTransformation ReferenceId=\"CreateAlternativeSecurityId\" />",
				  "<OutputClaimsTransformation ReferenceId=\"CreateSubjectClaimFromAlternativeSecurityId\" />",
				"</OutputClaimsTransformations>",
				"<UseTechnicalProfileForSessionManagement ReferenceId=\"SM-SocialLogin\" />",
			  "</TechnicalProfile>",
			"</TechnicalProfiles>",
		  "</ClaimsProvider>$0"
		],
		"description": "ClaimsProvider block for an IdentityServer IDP"
	},
	"B2C SalesForce SAML IDP": {
		"prefix": ["b2c", "b2c-idp"],
		"body": [
			"<ClaimsProvider>",
  				"<Domain>salesforce</Domain>",
  				"<DisplayName>${1:Salesforce (SAML)}</DisplayName>",
  				"<TechnicalProfiles>",
					"<TechnicalProfile Id=\"${2:salesforce}\">",
      					"<DisplayName>${1:Salesforce (SAML)}</DisplayName>",
						"<Description>${3:Login with your Salesforce account}</Description>",
      					"<Protocol Name=\"SAML2\"/>",
      					"<Metadata>",
        					"<Item Key=\"WantsEncryptedAssertions\">false</Item>",
        					"<Item Key=\"WantsSignedAssertions\">false</Item>",
        					"<Item Key=\"PartnerEntity\">${4:https://Salesforce FQDN/.well-known/samlidp/metadatafile name.xml}</Item>",
      					"</Metadata>",
      					"<CryptographicKeys>",
        					"<Key Id=\"SamlMessageSigning\" StorageReferenceId=\"${5:B2C_1A_SAMLSigningCert}\"/>",
      					"</CryptographicKeys>",
      					"<OutputClaims>",
							"<OutputClaim ClaimTypeReferenceId=\"issuerUserId\" PartnerClaimType=\"userId\"/>",
							"<OutputClaim ClaimTypeReferenceId=\"givenName\" PartnerClaimType=\"given_name\"/>",
        					"<OutputClaim ClaimTypeReferenceId=\"surname\" PartnerClaimType=\"family_name\"/>",
        					"<OutputClaim ClaimTypeReferenceId=\"email\" PartnerClaimType=\"email\"/>",
        					"<OutputClaim ClaimTypeReferenceId=\"displayName\" PartnerClaimType=\"username\"/>",
        					"<OutputClaim ClaimTypeReferenceId=\"authenticationSource\" DefaultValue=\"socialIdpAuthentication\"/>",
        					"<OutputClaim ClaimTypeReferenceId=\"identityProvider\" DefaultValue=\"SAMLIdp\" />",
     					"</OutputClaims>",
      					"<OutputClaimsTransformations>",
        					"<OutputClaimsTransformation ReferenceId=\"CreateRandomUPNUserName\"/>",
        					"<OutputClaimsTransformation ReferenceId=\"CreateUserPrincipalName\"/>",
        					"<OutputClaimsTransformation ReferenceId=\"CreateAlternativeSecurityId\"/>",
        					"<OutputClaimsTransformation ReferenceId=\"CreateSubjectClaimFromAlternativeSecurityId\"/>",
						"</OutputClaimsTransformations>",
      					"<UseTechnicalProfileForSessionManagement ReferenceId=\"SM-Saml-idp\"/>",
    				"</TechnicalProfile>",
  				"</TechnicalProfiles>",
			"</ClaimsProvider>$0"
		],
		"description": "ClaimsProvider block for a SalesForce SAML IDP"
	},
	"B2C Azure AD IDP": {
		"prefix": ["b2c", "b2c-idp"],
		"body": [
			"<ClaimsProvider>",
				"<Domain>commonaad</Domain>",
				"<DisplayName>${1:Organization or School Account}</DisplayName>",
				"<TechnicalProfiles>",
			  		"<TechnicalProfile Id=\"${2:Common-AAD}\">",
						"<DisplayName>${1:Organization or School Account}</DisplayName>",
						"<Description>${3:Login with your organization or school account}</Description>",
						"<Protocol Name=\"OpenIdConnect\" />",
						"<Metadata>",
				  			"<Item Key=\"METADATA\">https://login.windows.net/common/.well-known/openid-configuration</Item>",
				  			"<!-- Update the Client ID below to the Application ID -->",
				  			"<Item Key=\"client_id\">${4:ClientID}</Item>",
				  			"<Item Key=\"response_types\">code</Item>",
				  			"<Item Key=\"scope\">openid</Item>",
				  			"<Item Key=\"response_mode\">form_post</Item>",
				  			"<Item Key=\"HttpBinding\">POST</Item>",
				  			"<Item Key=\"UsePolicyInRedirectUri\">false</Item>",
				  			"<Item Key=\"DiscoverMetadataByTokenIssuer\">true</Item>",
				  			"<!-- The key below allows you to specify a comma separated list of the Azure AD tenants that can be used to sign in. Update the GUIDs below for each tenant. -->",
				  			"<Item Key=\"ValidTokenIssuerPrefixes\">${5:https://sts.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47}</Item>",
				  			"<!-- The commented key below specifies that users from any tenant can sign-in. Uncomment if you would like anyone with an Azure AD account to be able to sign in. -->",
				  			"<!-- <Item Key=\"ValidTokenIssuerPrefixes\">https://sts.windows.net/</Item> -->",
						"</Metadata>",
						"<CryptographicKeys>",
				  			"<Key Id=\"client_secret\" StorageReferenceId=\"${6:B2C_1A_AADAppSecret}\" />",
						"</CryptographicKeys>",
						"<OutputClaims>",
				  			"<OutputClaim ClaimTypeReferenceId=\"issuerUserId\" PartnerClaimType=\"oid\" />",
				  			"<OutputClaim ClaimTypeReferenceId=\"tenantId\" PartnerClaimType=\"tid\" />",
				  			"<OutputClaim ClaimTypeReferenceId=\"givenName\" PartnerClaimType=\"given_name\" />",
				  			"<OutputClaim ClaimTypeReferenceId=\"surName\" PartnerClaimType=\"family_name\" />",
				  			"<OutputClaim ClaimTypeReferenceId=\"displayName\" PartnerClaimType=\"name\" />",
				  			"<OutputClaim ClaimTypeReferenceId=\"authenticationSource\" DefaultValue=\"socialIdpAuthentication\" AlwaysUseDefaultValue=\"true\" />",
				  			"<OutputClaim ClaimTypeReferenceId=\"identityProvider\" PartnerClaimType=\"iss\" />",
						"</OutputClaims>",
						"<OutputClaimsTransformations>",
				  			"<OutputClaimsTransformation ReferenceId=\"CreateRandomUPNUserName\" />",
				  			"<OutputClaimsTransformation ReferenceId=\"CreateUserPrincipalName\" />",
				  			"<OutputClaimsTransformation ReferenceId=\"CreateAlternativeSecurityId\" />",
				  			"<OutputClaimsTransformation ReferenceId=\"CreateSubjectClaimFromAlternativeSecurityId\" />",
						"</OutputClaimsTransformations>",
						"<UseTechnicalProfileForSessionManagement ReferenceId=\"SM-SocialLogin\" />",
			  		"</TechnicalProfile>",
				"</TechnicalProfiles>",
		  	"</ClaimsProvider>$0"
		],
		"description": "ClaimsProvider block for an Azure AD IDP"
	}
}